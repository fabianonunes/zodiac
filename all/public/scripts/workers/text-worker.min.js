importScripts("../lib/require.js"),require({baseUrl:"../lib"},["operations.min"],function(a){self.onmessage=function(b){var c=b.data,d=a[c.op],e=d(self.readFile(c.previous),self.readFile(c.file,c.mask));self.postMessage(e)},self.readFile=function(a,b,c){if(!a)return null;var d=new FileReaderSync,e=d.readAsText(a),f=[];return e.split("\n").forEach(function(a){a=a.trim(),a&&(b?Array.prototype.push.apply(f,a.match(b)):f.push(a))}),f}})