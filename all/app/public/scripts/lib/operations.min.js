define(function(){"use strict";function e(e,t,n){return e.sort(function(e,n){var r=parseInt(e[t],10),i=parseInt(n[t],10);return r<i?-1:r>i?1:0})}var t={sort:function(t){var n="",r=0,i=t.map(function(e){return{line:e}});return i=e(i,"line"),i.forEach(function(e){n+=e.line,n+="\n",r+=1}),{lines:n,length:r}},uniq:function(e){var t={},n=0,r="";return e.forEach(function(e){t[e]||(t[e]=!0,r+=e,r+="\n",n+=1)}),{lines:r,length:n}},dups:function(e){var t="",n=0,r={};return e.forEach(function(e){r[e]=+[r[e]]+1}),Object.keys(r).forEach(function(e){r[e]>1&&(t+=e,t+="\n",n+=1)}),{lines:t,length:n}},difference:function(e,t){var n="",r=0,i={};return t.forEach(function(e){i[e]=!0}),e.forEach(function(e){i[e]||(n+=e,n+="\n",r+=1)}),{lines:n,length:r}},union:function(e,t){var n=t.concat(e);return{lines:n.join("\n"),length:n.length}},intersection:function(e,t){var n="",r=0,i={},s;return e.forEach(function(e,t){i[e]=!0}),t.forEach(function(e){i[e]===!0&&(i[e]=!1,n+=e,n+="\n",r+=1)}),{lines:n,length:r}},symmetric:function(e,t){var n="",r=0,i={},s;return e.forEach(function(e){i[e]=+[i[e]]+1}),t.forEach(function(e){i[e]=+[i[e]]+1}),Object.keys(i).forEach(function(e){i[e]===1&&(n+=e,n+="\n",r+=1)}),{lines:n,length:r}},charge:function(e,t){return{lines:t.join("\n"),length:t.length}},grep:function(e,t){var n="",r=0,i={},s=t.map(function(e){return new RegExp(e,"i")});return e.forEach(function(e){var t;t=e;var i=s.some(function(e){return t!==(t=t.replace(e,"<b>$&</b>"))});i&&(n+=e,n+="\n",r+=1)}),{lines:n,length:r}}};return t})