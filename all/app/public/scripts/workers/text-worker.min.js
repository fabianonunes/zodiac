importScripts("../lib/require.js"),require({baseUrl:"../lib"},["operations"],function(e){self.onmessage=function(t){var n=t.data,r=e[n.op],i=r(self.readFile(n.previous),self.readFile(n.file,n.mask));self.postMessage(i)},self.readFile=function(e,t,n){if(!e)return null;var r=new FileReaderSync,i=r.readAsText(e),s=[];return i.split("\n").forEach(function(e){e=e.trim(),e&&(t?Array.prototype.push.apply(s,e.match(t)):s.push(e))}),s}})